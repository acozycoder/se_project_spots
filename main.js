!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error"},t=(e,t,o)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(o.inputErrorClass)},o=(e,t,o)=>{(e=>e.some((e=>!e.validity.valid)))(e)?r(t,o):(t.disabled=!1,t.classList.remove(o.inactiveButtonClass))},r=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},n=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__name"),l=document.querySelector(".profile__description"),i=document.querySelector("#edit-modal"),c=document.forms["profile-form"],s=i.querySelector("#modal-name"),d=i.querySelector("#modal-description"),u=document.querySelector(".profile__add-button"),m=document.querySelector("#post-modal"),f=document.forms["post-form"],p=m.querySelector(".modal__submit-button"),_=m.querySelector("#modal-link"),y=m.querySelector("#modal-caption"),b=document.querySelector("#card-template"),v=document.querySelector(".cards__list"),x=document.querySelector("#photo-modal"),q=x.querySelector(".modal__image"),S=x.querySelector(".modal__caption");function w(e){const t=b.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__title"),r=t.querySelector(".card__image"),n=t.querySelector(".card__like-button"),a=t.querySelector(".card__delete-button");return o.textContent=e.name,r.src=e.link,r.alt=e.name,n.addEventListener("click",(()=>{n.classList.toggle("card__like-button_liked")})),a.addEventListener("click",(()=>{t.remove()})),r.addEventListener("click",(()=>{h(x),S.textContent=e.name,q.src=e.link,q.alt=e.name})),t}function h(e){e.classList.add("modal_open"),e.addEventListener("click",E),document.addEventListener("keydown",D)}function k(e){e.classList.remove("modal_open"),e.removeEventListener("click",E),document.removeEventListener("keydown",D)}function D(e){"Escape"===e.key&&k(document.querySelector(".modal_open"))}function E(e){e.target.classList.contains("modal")&&k(e.target)}var L;n.addEventListener("click",(()=>{var o,r;h(i),s.value=a.textContent,d.value=l.textContent,o=c,r=e,[s,d].forEach((e=>{t(o,e,r)}))})),u.addEventListener("click",(()=>{h(m)})),document.querySelectorAll(".modal__close-button").forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(()=>k(t)))})),c.addEventListener("submit",(function(e){e.preventDefault(),a.textContent=s.value,l.textContent=d.value,k(i)})),f.addEventListener("submit",(function(t){t.preventDefault();const o=w({name:y.value,link:_.value});v.prepend(o),t.target.reset(),r(p,e),k(m)})),[{name:"Home Office Goals",link:"https://images.unsplash.com/photo-1457305237443-44c3d5a30b89?q=80&w=2074&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Financial Freedom",link:"https://images.unsplash.com/photo-1596313398625-2c16b75031b3?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Frequent Travels",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/7-photo-by-griffin-wooldridge-from-pexels.jpg"},{name:"Reliable Vehicle",link:"https://images.unsplash.com/photo-1497564245203-66a1216f073a?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Home Ownership",link:"https://images.unsplash.com/photo-1564078516393-cf04bd966897?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Dream Career",link:"https://images.unsplash.com/photo-1573164713988-8665fc963095?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((function(e){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";const o=w(e);v[t](o)}(e)})),L=e,document.querySelectorAll(L.formSelector).forEach((e=>{((e,r)=>{const n=Array.from(e.querySelectorAll(r.inputSelector)),a=e.querySelector(r.submitButtonSelector);o(n,a,r),n.forEach((l=>{l.addEventListener("input",(function(){((e,o,r)=>{o.validity.valid?t(e,o,r):((e,t,o,r)=>{e.querySelector(`#${t.id}-error`).textContent=o,t.classList.add(r.inputErrorClass)})(e,o,o.validationMessage,r)})(e,l,r),o(n,a,r)}))}))})(e,L)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDTkUsS0FBTSwwS0FHUixDQUNFRixLQUFNLGVBQ05FLEtBQU0sMktBZ0lHZ0IsU0FBUSxTQUFVUyxJQUwvQixTQUFvQkMsR0FBMEIsSUFBcEJDLEVBQU1DLFVBQUFDLE9BQUEsUUFBQUMsSUFBQUYsVUFBQSxHQUFBQSxVQUFBLEdBQUcsVUFDakMsTUFBTXJDLEVBQWNGLEVBQWVxQyxHQUNuQ3pDLEVBQVcwQyxHQUFTcEMsRUFDdEIsQ0FHRXdDLENBQVdOLEVBQ2IsSUQzRmlDekUsRUM2RmhCVixFRDVGRTRCLFNBQVMrQyxpQkFBaUJqRSxFQUFPVCxjQUN6Q3lFLFNBQVNsRSxJQWhCTWtGLEVBQUNsRixFQUFRRSxLQUNqQyxNQUFNTyxFQUFZMEUsTUFBTUMsS0FBS3BGLEVBQU9tRSxpQkFBaUJqRSxFQUFPUixnQkFDdERnQixFQUFXVixFQUFPRyxjQUFjRCxFQUFPUCxzQkFFN0NhLEVBQWtCQyxFQUFXQyxFQUFVUixHQUV2Q08sRUFBVXlELFNBQVNqRSxJQUNqQkEsRUFBUW1ELGlCQUFpQixTQUFTLFdBekNYaUMsRUFBQ3JGLEVBQVFDLEVBQVNDLEtBQ3RDRCxFQUFRWSxTQUFTQyxNQUdwQmYsRUFBZUMsRUFBUUMsRUFBU0MsR0FoQmJvRixFQUFDdEYsRUFBUUMsRUFBU3NGLEVBQWNyRixLQUM5QkYsRUFBT0csY0FBYyxJQUFJRixFQUFRRyxZQUN6Q0MsWUFBY2tGLEVBQzdCdEYsRUFBUUssVUFBVVksSUFBSWhCLEVBQU9MLGdCQUFnQixFQVczQ3lGLENBQWV0RixFQUFRQyxFQUFTQSxFQUFRdUYsa0JBQW1CdEYsRUFHNUQsRUFxQ0dtRixDQUFtQnJGLEVBQVFDLEVBQVNDLEdBQ3BDTSxFQUFrQkMsRUFBV0MsRUFBVVIsRUFDekMsR0FBRSxHQUNGLEVBTUFnRixDQUFrQmxGLEVBQVFFLEVBQU8sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JcIlxufVxuXG5cbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgZXJyb3JNZXNzYWdlLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIGlucHV0RWwuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufTtcblxuY29uc3QgY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgIHNob3dJbnB1dEVycm9yKGZvcm1FbCwgaW5wdXRFbCwgaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZSwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGNvbmZpZyk7XG4gIH07XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsLCBjb25maWcpO1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgYnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkaXNhYmxlQnV0dG9uID0gKGJ1dHRvbkVsLCBjb25maWcpID0+IHtcbiBidXR0b25FbC5kaXNhYmxlZCA9IHRydWU7XG4gYnV0dG9uRWwuY2xhc3NMaXN0LmFkZChjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVzZXRWYWxpZGF0aW9uID0gKGZvcm1FbCwgaW5wdXRMaXN0LCBjb25maWcpID0+IHtcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dCwgY29uZmlnKTtcbiAgfSk7XG59O1xuXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWwsIGNvbmZpZykgPT4ge1xuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKGZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XG4gIGNvbnN0IGJ1dHRvbkVsID0gZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsLCBjb25maWcpO1xuXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKTtcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZyk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsKSA9PiB7XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsLCBjb25maWcpO1xuICB9KTtcbn07IiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7IGVuYWJsZVZhbGlkYXRpb24sIHJlc2V0VmFsaWRhdGlvbiwgZGlzYWJsZUJ1dHRvbiwgc2V0dGluZ3MgfSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XG5cbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiSG9tZSBPZmZpY2UgR29hbHNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNDU3MzA1MjM3NDQzLTQ0YzNkNWEzMGI4OT9xPTgwJnc9MjA3NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIlxuICB9LFxuXG4gIHtcbiAgICBuYW1lOiBcIkZpbmFuY2lhbCBGcmVlZG9tXCIsXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU5NjMxMzM5ODYyNS0yYzE2Yjc1MDMxYjM/cT04MCZ3PTIwNzAmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCJcbiAgfSxcblxuICB7XG4gICAgbmFtZTogXCJGcmVxdWVudCBUcmF2ZWxzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzctcGhvdG8tYnktZ3JpZmZpbi13b29sZHJpZGdlLWZyb20tcGV4ZWxzLmpwZ1wiXG4gIH0sXG5cbiAge1xuICAgIG5hbWU6IFwiUmVsaWFibGUgVmVoaWNsZVwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE0OTc1NjQyNDUyMDMtNjZhMTIxNmYwNzNhP3E9ODAmdz0yMDcwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiXG4gIH0sXG5cbiAge1xuICAgIG5hbWU6IFwiSG9tZSBPd25lcnNoaXBcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTY0MDc4NTE2MzkzLWNmMDRiZDk2Njg5Nz9xPTgwJnc9MTk3NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIlxuICB9LFxuXG4gIHtcbiAgICBuYW1lOiBcIkRyZWFtIENhcmVlclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1NzMxNjQ3MTM5ODgtODY2NWZjOTYzMDk1P3E9ODAmdz0yMDY5JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiXG4gIH0sXG5dO1xuXG5jb25zdCBlZGl0UHJvZmlsZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5cbmNvbnN0IHByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1tb2RhbFwiKTtcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XG5jb25zdCBwcm9maWxlTW9kYWxOYW1lID0gcHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtbmFtZVwiKTtcbmNvbnN0IHByb2ZpbGVNb2RhbERlc2NyaXB0aW9uID0gcHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtZGVzY3JpcHRpb25cIik7XG5cbmNvbnN0IGFkZFBvc3RCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5cbmNvbnN0IHBvc3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9zdC1tb2RhbFwiKTtcbmNvbnN0IHBvc3RGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwb3N0LWZvcm1cIl07XG5jb25zdCBwb3N0U3VibWl0QnV0dG9uID0gcG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIik7XG5jb25zdCBwb3N0TW9kYWxMaW5rID0gcG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtbGlua1wiKTtcbmNvbnN0IHBvc3RNb2RhbENhcHRpb24gPSBwb3N0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1jYXB0aW9uXCIpO1xuXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XG5jb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xuXG5jb25zdCBwaG90b01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwaG90by1tb2RhbFwiKTtcbmNvbnN0IHBob3RvTW9kYWxJbWFnZSA9IHBob3RvTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XG5jb25zdCBwaG90b01vZGFsQ2FwdGlvbiA9IHBob3RvTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcblxuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoZGF0YSkge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKS5jbG9uZU5vZGUodHJ1ZSk7XG4gIGNvbnN0IGNhcmROYW1lRWxlbWVudCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XG4gIGNvbnN0IGNhcmRJbWFnZUVsZW1lbnQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gIGNvbnN0IGNhcmREZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XG5cbiAgY2FyZE5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICBjYXJkSW1hZ2VFbGVtZW50LnNyYyA9IGRhdGEubGluaztcbiAgY2FyZEltYWdlRWxlbWVudC5hbHQgPSBkYXRhLm5hbWU7XG5cbiAgY2FyZExpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fbGlrZWRcIilcbiAgfSk7XG5cbiAgY2FyZERlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGNhcmRFbGVtZW50LnJlbW92ZSgpO1xuICB9KTtcblxuICBjYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgb3Blbk1vZGFsKHBob3RvTW9kYWwpO1xuICAgIHBob3RvTW9kYWxDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHBob3RvTW9kYWxJbWFnZS5zcmMgPSBkYXRhLmxpbms7XG4gICAgcGhvdG9Nb2RhbEltYWdlLmFsdCA9IGRhdGEubmFtZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufTtcblxuXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5cIik7XG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGVLZXkpO1xufTtcblxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3Blbk1vZGFsKHByb2ZpbGVNb2RhbCk7XG4gIHByb2ZpbGVNb2RhbE5hbWUudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcbiAgcHJvZmlsZU1vZGFsRGVzY3JpcHRpb24udmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XG4gIHJlc2V0VmFsaWRhdGlvbihwcm9maWxlRm9ybSwgW3Byb2ZpbGVNb2RhbE5hbWUsIHByb2ZpbGVNb2RhbERlc2NyaXB0aW9uXSwgc2V0dGluZ3MpO1xufSk7XG5cbmFkZFBvc3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3Blbk1vZGFsKHBvc3RNb2RhbCk7XG59KTtcblxuY29uc3QgY2xvc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCIpO1xuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuXCIpO1xuICBtb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlS2V5KTtcbn1cblxuY2xvc2VCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuIGNvbnN0IHBvcHVwID0gYnV0dG9uLmNsb3Nlc3QoJy5tb2RhbCcpO1xuIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNsb3NlTW9kYWwocG9wdXApKVxufSk7XG5cbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZUtleShlKSB7XG4gIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNvbnN0IGN1cnJlbnRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfb3BlblwiKTtcbiAgICBjbG9zZU1vZGFsKGN1cnJlbnRNb2RhbCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGhhbmRsZUNsaWNrT3V0c2lkZShlKSB7XG4gIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSkge1xuICAgIGNsb3NlTW9kYWwoZS50YXJnZXQpO1xuICB9O1xufTtcblxuZnVuY3Rpb24gc3VibWl0UHJvZmlsZShldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gcHJvZmlsZU1vZGFsTmFtZS52YWx1ZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcHJvZmlsZU1vZGFsRGVzY3JpcHRpb24udmFsdWU7XG4gIGNsb3NlTW9kYWwocHJvZmlsZU1vZGFsKTtcbn1cblxucHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBzdWJtaXRQcm9maWxlKTtcblxuZnVuY3Rpb24gYWRkUG9zdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGlucHV0VmFsdWVzID0ge25hbWU6IHBvc3RNb2RhbENhcHRpb24udmFsdWUsIGxpbms6IHBvc3RNb2RhbExpbmsudmFsdWV9O1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGlucHV0VmFsdWVzKTtcbiAgY2FyZHNMaXN0LnByZXBlbmQoY2FyZEVsZW1lbnQpO1xuICBldnQudGFyZ2V0LnJlc2V0KCk7XG4gIGRpc2FibGVCdXR0b24ocG9zdFN1Ym1pdEJ1dHRvbiwgc2V0dGluZ3MpO1xuICBjbG9zZU1vZGFsKHBvc3RNb2RhbCk7XG59XG5cbnBvc3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYWRkUG9zdCk7XG5cblxuZnVuY3Rpb24gcmVuZGVyQ2FyZChpdGVtLCBtZXRob2QgPSBcInByZXBlbmRcIikge1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KGl0ZW0pO1xuICBjYXJkc0xpc3RbIG1ldGhvZCBdKGNhcmRFbGVtZW50KTtcbn07XG5cbmluaXRpYWxDYXJkcy5mb3JFYWNoKGZ1bmN0aW9uIChpbml0aWFsQ2FyZHMpIHtcbiAgcmVuZGVyQ2FyZChpbml0aWFsQ2FyZHMpO1xufSk7XG5cbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpOyJdLCJuYW1lcyI6WyJzZXR0aW5ncyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWwiLCJpbnB1dEVsIiwiY29uZmlnIiwicXVlcnlTZWxlY3RvciIsImlkIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0TGlzdCIsImJ1dHRvbkVsIiwic29tZSIsImlucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsImhhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImFkZCIsImVkaXRQcm9maWxlQnV0dG9uIiwiZG9jdW1lbnQiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsInByb2ZpbGVNb2RhbCIsInByb2ZpbGVGb3JtIiwiZm9ybXMiLCJwcm9maWxlTW9kYWxOYW1lIiwicHJvZmlsZU1vZGFsRGVzY3JpcHRpb24iLCJhZGRQb3N0QnV0dG9uIiwicG9zdE1vZGFsIiwicG9zdEZvcm0iLCJwb3N0U3VibWl0QnV0dG9uIiwicG9zdE1vZGFsTGluayIsInBvc3RNb2RhbENhcHRpb24iLCJjYXJkVGVtcGxhdGUiLCJjYXJkc0xpc3QiLCJwaG90b01vZGFsIiwicGhvdG9Nb2RhbEltYWdlIiwicGhvdG9Nb2RhbENhcHRpb24iLCJnZXRDYXJkRWxlbWVudCIsImRhdGEiLCJjYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjYXJkTmFtZUVsZW1lbnQiLCJjYXJkSW1hZ2VFbGVtZW50IiwiY2FyZExpa2VCdXR0b24iLCJjYXJkRGVsZXRlQnV0dG9uIiwibmFtZSIsInNyYyIsImxpbmsiLCJhbHQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlIiwib3Blbk1vZGFsIiwibW9kYWwiLCJoYW5kbGVDbGlja091dHNpZGUiLCJoYW5kbGVFc2NhcGVLZXkiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsInJlc2V0VmFsaWRhdGlvbiIsInZhbHVlIiwiZm9yRWFjaCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b24iLCJwb3B1cCIsImNsb3Nlc3QiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInByZXBlbmQiLCJyZXNldCIsImluaXRpYWxDYXJkcyIsIml0ZW0iLCJtZXRob2QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJyZW5kZXJDYXJkIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJBcnJheSIsImZyb20iLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRpb25NZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==